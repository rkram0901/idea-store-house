{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Projects\\\\Hackathon\\\\stack-underflow-master\\\\client\\\\src\\\\pages\\\\AllUsersPage.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { GET_ALL_USERS } from '../graphql/queries';\nimport { Link as RouterLink } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { useStateContext } from '../context/state';\nimport { formatDateAgo, getErrorMsg } from '../utils/helperFuncs';\nimport { Typography, TextField, InputAdornment, Avatar, Link } from '@material-ui/core';\nimport { useUsersPageStyles } from '../styles/muiStyles';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst AllUsersPage = () => {\n  _s();\n\n  const {\n    notify\n  } = useStateContext();\n  const {\n    data,\n    loading\n  } = useQuery(GET_ALL_USERS, {\n    onError: err => {\n      notify(getErrorMsg(err), 'error');\n    }\n  });\n  const [filterInput, setFilterInput] = useState('');\n  const classes = useUsersPageStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      color: \"secondary\",\n      children: \"Users\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TextField, {\n      className: classes.filterInput,\n      value: filterInput,\n      placeholder: \"Filter by username\",\n      onChange: e => setFilterInput(e.target.value),\n      variant: \"outlined\",\n      size: \"small\",\n      InputProps: {\n        startAdornment: /*#__PURE__*/_jsxDEV(InputAdornment, {\n          position: \"start\",\n          children: /*#__PURE__*/_jsxDEV(SearchIcon, {\n            color: \"primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, this)\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), !loading && data ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.usersWrapper,\n      children: data.getAllUsers.filter(u => u.username.toLowerCase().includes(filterInput.toLowerCase())).map(u => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.userBox,\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          src: `https://secure.gravatar.com/avatar/${u.id}?s=164&d=identicon`,\n          alt: u.username,\n          className: classes.avatar,\n          component: RouterLink,\n          to: `/user/${u.username}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            component: RouterLink,\n            to: `/user/${u.username}`,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body2\",\n              children: u.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"caption\",\n            children: [\"created \", formatDateAgo(u.createdAt), \" ago\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this)]\n      }, u.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minWidth: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n        size: 80\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AllUsersPage, \"Hmiuldc+rUPRkIhjlQT9Zs7yZVk=\", false, function () {\n  return [useStateContext, useQuery, useUsersPageStyles];\n});\n\n_c = AllUsersPage;\nexport default AllUsersPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllUsersPage\");","map":{"version":3,"sources":["C:/Projects/Hackathon/stack-underflow-master/client/src/pages/AllUsersPage.js"],"names":["useState","useQuery","GET_ALL_USERS","Link","RouterLink","LoadingSpinner","useStateContext","formatDateAgo","getErrorMsg","Typography","TextField","InputAdornment","Avatar","useUsersPageStyles","SearchIcon","AllUsersPage","notify","data","loading","onError","err","filterInput","setFilterInput","classes","root","e","target","value","startAdornment","usersWrapper","getAllUsers","filter","u","username","toLowerCase","includes","map","userBox","id","avatar","createdAt","minWidth"],"mappings":"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","sourcesContent":["import { useState } from 'react';\nimport { useQuery } from '@apollo/client';\nimport { GET_ALL_USERS } from '../graphql/queries';\nimport { Link as RouterLink } from 'react-router-dom';\nimport LoadingSpinner from '../components/LoadingSpinner';\nimport { useStateContext } from '../context/state';\nimport { formatDateAgo, getErrorMsg } from '../utils/helperFuncs';\n\nimport {\n  Typography,\n  TextField,\n  InputAdornment,\n  Avatar,\n  Link,\n} from '@material-ui/core';\nimport { useUsersPageStyles } from '../styles/muiStyles';\nimport SearchIcon from '@material-ui/icons/Search';\n\nconst AllUsersPage = () => {\n  const { notify } = useStateContext();\n  const { data, loading } = useQuery(GET_ALL_USERS, {\n    onError: (err) => {\n      notify(getErrorMsg(err), 'error');\n    },\n  });\n\n  const [filterInput, setFilterInput] = useState('');\n  const classes = useUsersPageStyles();\n\n  return (\n    <div className={classes.root}>\n      <Typography variant=\"h5\" color=\"secondary\">\n        Users\n      </Typography>\n      <TextField\n        className={classes.filterInput}\n        value={filterInput}\n        placeholder=\"Filter by username\"\n        onChange={(e) => setFilterInput(e.target.value)}\n        variant=\"outlined\"\n        size=\"small\"\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              <SearchIcon color=\"primary\" />\n            </InputAdornment>\n          ),\n        }}\n      />\n      {!loading && data ? (\n        <div className={classes.usersWrapper}>\n          {data.getAllUsers\n            .filter((u) =>\n              u.username.toLowerCase().includes(filterInput.toLowerCase())\n            )\n            .map((u) => (\n              <div key={u.id} className={classes.userBox}>\n                <Avatar\n                  src={`https://secure.gravatar.com/avatar/${u.id}?s=164&d=identicon`}\n                  alt={u.username}\n                  className={classes.avatar}\n                  component={RouterLink}\n                  to={`/user/${u.username}`}\n                />\n                <div>\n                  <Link component={RouterLink} to={`/user/${u.username}`}>\n                    <Typography variant=\"body2\">{u.username}</Typography>\n                  </Link>\n                  <Typography variant=\"caption\">\n                    created {formatDateAgo(u.createdAt)} ago\n                  </Typography>\n                </div>\n              </div>\n            ))}\n        </div>\n      ) : (\n        <div style={{ minWidth: '100%' }}>\n          <LoadingSpinner size={80} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default AllUsersPage;\n"]},"metadata":{},"sourceType":"module"}